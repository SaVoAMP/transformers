\documentclass[
    11pt,
    a4paper,
    egregdoesnotlikesansseriftitles,
    toc=chapterentrywithdots,
    twoside,openright,
    titlepage,
    parskip=half,
    headings=normal,  % reduces heading size
    listof=totoc,
    bibliography=totoc,
    index=totoc,
    captions=tableheading,  % caption below table
    chapterprefix,
    listof=flat,
    final
]{scrbook}


% details about your thesis
\newcommand{\titel}{Transformer}
\newcommand{\artderarbeit}{Projektentwurf}  % {Bachelorarbeit,Masterarbeit}
\newcommand{\autor}{Sarah Volkamer}
\newcommand{\studiengang}{Angewandte Mathematik und Physik}  

% custom head and foot

\usepackage[automark]{scrlayer-scrpage}
\pagestyle{scrheadings}
%\ihead{\headmark}
\chead{}
%\ohead{\pagemark}
\renewcommand*\chaptermarkformat{\chapappifchapterprefix{\ }% 
  \thechapter.\enskip}

\RedeclareSectionCommand[tocindent=0pt]{section}
\RedeclareSectionCommand[tocindent=0pt]{subsection}
%\RedeclareSectionCommand[tocnumwidth=70pt]{chapter}


% other packages
\usepackage{minted}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{lmodern,relsize,textcomp,csquotes}
\usepackage{amsmath,amsfonts}
\usepackage[english,ngerman]{babel}  % flip for German thesis
\usepackage[final]{graphicx}
\usepackage{setspace,geometry,xcolor}
\usepackage{makeidx}
\usepackage{paralist,ifthen}
\newcommand{\todo}[1]{}
%\usepackage{todonotes}
\usepackage{url}
\usepackage[toc]{glossaries}
\usepackage{pdfpages}
\usepackage{acronym}
\usepackage[most]{tcolorbox}
\usepackage{upgreek}
\usepackage{xcolor}
\usepackage{mathtools}
\usepackage{textpos}
\usepackage{varwidth}
\usepackage{svg}

\tcbuselibrary{listings}
\tcbset{listing engine=listings}
\definecolor{codecomments}{rgb}{0,0.6,0}
\definecolor{codekeywords}{rgb}{0, 0, 0.75}
\definecolor{codestrings}{rgb}{0.75, 0.25, 0}
\definecolor{codebgcolor}{rgb}{0.95,0.95,0.95}


\usepackage{varioref}
\usepackage{float}

% table setup
\usepackage{longtable}
\usepackage{colortbl}
\usepackage{booktabs}
\usepackage{array}
\usepackage{ragged2e}
\usepackage{lscape}
\usepackage{multirow}
\usepackage[backend=biber]{biblatex}
\addbibresource{Quellen.bib}

% pdf hyperref
\usepackage[
    bookmarks=true,
    bookmarksopen=true,
    bookmarksnumbered=true,
    bookmarksopenlevel=1,
    pdftitle={\titel},
    pdfauthor={\autor},
    pdfcreator={\autor},
    pdfsubject={\titel},
    pdfkeywords={\keywords},
    pdfpagelabels=true,
    colorlinks=true,
    linkcolor=red,
    urlcolor=magenta,
    anchorcolor=black,
    citecolor=cyan,
    filecolor=magenta,
    menucolor=red,
    plainpages=false,
    hypertexnames=true,
    linktocpage=true,
\left( ]{hyperref}
\usepackage[ngerman]{cleveref}


\usepackage{scrhack}
% configure your listings style
\usepackage{listings}
\lstset{
	tabsize=3,
	extendedchars=true,
	frame=single,
	showstringspaces=true,
	numbers=left,
	numberstyle=\small,
	breakautoindent=true,
	mathescape=true
}

% page setup
%\setlength{\topskip}{\ht\strutbox}
\geometry{paper=a4paper,left=2.5cm,top=3.0cm,bindingoffset=.8cm}
\onehalfspacing
\frenchspacing
\clubpenalty = 10000
\widowpenalty = 10000 
\displaywidowpenalty = 10000
\raggedbottom % Text soll nicht Ã¼ber die gesamte Seite verteilt sein

% some commands
\newcommand{\ua}{\mbox{u.\,a.\ }}
\newcommand{\zB}{\mbox{z.\,B.\ }}
\newcommand{\dahe}{\mbox{d.\,h.,\ }}
\newcommand{\bzw}{\mbox{bzw.\ }}
\newcommand{\bzgl}{\mbox{bzgl.\ }}
\newcommand{\eg}{\mbox{e.\,g.\ }}
\newcommand{\ie}{\mbox{i.\,e.\ }}
\newcommand{\wrt}{\mbox{w.\,r.\,t.\ }}
\newcommand{\etal}{\mbox{\emph{et.\,al.\ }}}


% TODO remove if not needed...
\usepackage{blindtext}
\usepackage{fontawesome5}

% load glossary entries
%\makenoidxglossaries
%\loadglsentries{glossary}

\newtcolorbox[auto counter, 
crefname={Definition}{Definitionen}]%
{definition}[1][]{arc=0mm,
	colback=white,
	coltitle=black,
	colframe=red!40!white,
	fonttitle=\sffamily,
	code={\def\mytitle{#1}},
	title=Definition \thetcbcounter, #1
}

\newtcblisting{python}{left = 2mm, right = 0mm, colback=white, colframe=white, listing only, listing options = 
	{
		language=Python,
		numbers=left, 
		backgroundcolor=\color{codebgcolor},
		numberstyle=\small\color{red!75!black}, commentstyle=\color{codecomments},
		keywordstyle=\bfseries\color{codekeywords},
		stringstyle=\color{codestrings}
	}
}
\newtcblisting{pythonzwei}{breakable, left = 1mm, right = 0mm, colback=white, colframe=white, listing only, listing options = 
	{
		language=Python,
		gobble=4,
		numbers=left, 
		backgroundcolor=\color{codebgcolor},
		numberstyle=\small\color{red!75!black}, commentstyle=\color{codecomments},
		keywordstyle=\bfseries\color{codekeywords},
		stringstyle=\color{codestrings}
	}
}

\begin{document}
\include{content/definitions}

\setcounter{secnumdepth}{3}  % numerate subsections
\setcounter{tocdepth}{2}  % ...but don't include them in toc

\frontmatter
\include{cover}


\include{Abkuerzungsverzeichnis}
\mainmatter

\include{content/Transformer}


\backmatter
\listoffigures
\printbibliography


\end{document}
